$gallery-grid-coluns: 12;
$gallery-margin: 4px;

%gallery-even {
	margin: 0 0 $gallery-margin;

	& + &:nth-child(2n) {
		.gallery-item {
			vertical-align: top;
		}
	}
}

body.page-template-t-gallery-items-php {
	@extend %nav-main-with-sub-menu;

	background-image: image-url("bg-gallery-items.jpg");
}

#t-gallery-items {
	.content {
		@include span-columns($gallery-grid-coluns omega);

		min-height: image-height("bg-gallery-items.jpg");
		overflow: hidden;
	}

	.content-outer {
		display: table;
		width: 100%;
	}

	.content-inner {
		display: table-cell;
		height: image-height("bg-gallery-items.jpg");
		vertical-align: middle;
	}

	.gallery {
		@extend %gallery-even;

		@include pie-clearfix;

		font-size: 0;
		white-space: nowrap;

		a {
			@include inline-block;

			color: $color-white;

			&:hover {
				@include opacity(0.2);
			    @include transition-property(opacity);
			    @include transition-duration(.25s);
			    @include transition-timing-function(ease-in);
			}
		}
	}

	img {
		float: left;
	}

	.gallery-item {
		@include inline-block;

		font-size: $base-font-size;
		margin: 0 $gallery-margin 0 0;
		position: relative;
		vertical-align: bottom;
	}

	.gallery-icon,
	.gallery-caption {
		@include inline-block;
	}

	.gallery-icon {
		position: relative;
		z-index: 1;
	}

	.gallery-caption {

		@include stretch;

		background: $color-black;
		color: $color-white;
		margin: 0;
	}

	.gallery-caption-outer {
		@include box-sizing(border-box);

		display: table;
		border-bottom: seta-sprite-height(zoom-in) solid $color-black;
		height: 100%;
		padding: seta-sprite-height(zoom-in) 10%;
		text-align: center;
		width: 100%;

		.top-page-slug-pt_br & {
			border-bottom: seta-sprite-height(ampliar) solid $color-black;
			padding: seta-sprite-height(ampliar) 10%;
		}

		&::after {
			@include inline-block;
			@include seta-sprite(zoom-in);

			content: '';
			bottom: seta-sprite-height(zoom-in) / 2;
			left: 50%;
			margin-left: - seta-sprite-width(zoom-in) / 2;
			position: absolute;

			.top-page-slug-pt_br & {
				@include seta-sprite(ampliar);

				bottom: seta-sprite-height(ampliar) / 2;
				margin-left: - seta-sprite-width(ampliar) / 2;
			}
		}
	}

	.gallery-caption-inner {
		@include box-sizing(border-box);
		@include force-wrap;
		@include adjust-font-size-to(12px);

		border: 1px solid $color-white;
		display: table-cell;
		padding: 0.5em;
		vertical-align: middle;

		br {
			display: none;
		}
	}

	// bx-slider hacks
	.bx-wrapper {
		@extend %gallery-even;

		width: columns($gallery-grid-coluns) - gutter(); // variable widths

		.gallery-item {
			float: none !important;
		}
	}
}